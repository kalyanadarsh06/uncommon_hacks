import pygame
import random

# Initialize pygame
pygame.init()

# Game Constants
WIDTH, HEIGHT = 800, 600
FPS = 60

# Colors
WHITE = (255, 255, 255)
BLACK = (0, 0, 0)
BRIGHT_COLORS = [(255, 0, 0), (0, 255, 0), (0, 0, 255), (255, 255, 0), (255, 0, 255), (0, 255, 255)]

# Screen setup
screen = pygame.display.set_mode((WIDTH, HEIGHT))
pygame.display.set_caption("Arcade Home Screen")
font = pygame.font.Font(None, 72)
button_font = pygame.font.Font(None, 48)

# Game descriptions and cover images (replace with your actual images)
games = [
    {"title": "Game 1", "description": "A fun racing game.", "image": pygame.Surface((150, 150)), "game_func": "game1_function"},
    {"title": "Game 2", "description": "An exciting puzzle game.", "image": pygame.Surface((150, 150)), "game_func": "game2_function"},
    {"title": "Game 3", "description": "A challenging action game.", "image": pygame.Surface((150, 150)), "game_func": "game3_function"},
    {"title": "Game 4", "description": "A strategy-based game.", "image": pygame.Surface((150, 150)), "game_func": "game4_function"},
    {"title": "Game 5", "description": "An adventure exploration game.", "image": pygame.Surface((150, 150)), "game_func": "game5_function"}
]

# Game positions
game_rects = [pygame.Rect(100, 150 + (i * 160), 150, 150) for i in range(len(games))]

# Arcade text flashing with slower speed
def arcade_flash():
    running = True
    color_index = 0
    clock = pygame.time.Clock()

    # Get the start time
    start_time = pygame.time.get_ticks()
    current_time = start_time

    # Run the loop for 5 seconds
    while current_time - start_time < 5000:
        # Get the current time
        current_time = pygame.time.get_ticks()
        screen.fill(BLACK)  # Set the background to black
        color_index = (color_index + 1) % len(BRIGHT_COLORS)
        arcade_text = font.render("Arcade", True, BRIGHT_COLORS[color_index])
        screen.blit(arcade_text, (WIDTH // 2 - arcade_text.get_width() // 2, HEIGHT // 2 - arcade_text.get_height() // 2))
        pygame.display.flip()

        for event in pygame.event.get():
            if event.type == pygame.QUIT:
                running = False

        clock.tick(2)  # Slow down the flashing (lower FPS)

    pygame.time.wait(1000)  # Wait 1 second before opening main arcade

# Draw Start Button
def draw_start_button():
    start_button = pygame.Rect(WIDTH // 2 - 150, HEIGHT // 2 + 100, 300, 50)
    pygame.draw.rect(screen, (0, 255, 0), start_button)
    start_text = button_font.render("Start Arcade", True, WHITE)
    screen.blit(start_text, (WIDTH // 2 - start_text.get_width() // 2, HEIGHT // 2 + 115))
    return start_button

# Display the main arcade screen with games and descriptions
def main_arcade():
    running = True
    clock = pygame.time.Clock()

    while running:
        screen.fill(BLACK)  # Set the background to black

        # Draw game covers and descriptions when hovered over
        for i, game in enumerate(games):
            game_rect = game_rects[i]
            pygame.draw.rect(screen, (255, 255, 255), game_rect)  # Draw white rectangle for the game cover

            # Draw game cover image (fill with random color for now)
            pygame.draw.rect(screen, (random.randint(0, 255), random.randint(0, 255), random.randint(0, 255)), game_rect)

            # Show description when hovering over the rectangle
            if game_rect.collidepoint(pygame.mouse.get_pos()):
                description_text = font.render(game["description"], True, WHITE)
                screen.blit(description_text, (WIDTH // 2 - description_text.get_width() // 2, HEIGHT - 100))

            # Check for mouse click to launch game
            for event in pygame.event.get():
                if event.type == pygame.MOUSEBUTTONDOWN:
                    if game_rect.collidepoint(pygame.mouse.get_pos()):
                        print(f"Launching {game['title']}...")
                        # Call the game function (replace with actual game functions)
                        # game[‘game_func’]()  # Example: game['game_func']()

        pygame.display.flip()

        for event in pygame.event.get():
            if event.type == pygame.QUIT:
                running = False

        clock.tick(FPS)

# Game launch functions (Replace with your actual game functions)
def game1_function():
    print("Game 1 started!")

def game2_function():
    print("Game 2 started!")

def game3_function():
    print("Game 3 started!")

def game4_function():
    print("Game 4 started!")

def game5_function():
    print("Game 5 started!")

# Run the arcade
def run_arcade():
    arcade_flash()  # Show flashing Arcade text
    running = True
    while running:
        screen.fill(BLACK)

        start_button = draw_start_button()  # Draw start button

        for event in pygame.event.get():
            if event.type == pygame.QUIT:
                running = False

            # Detect if the start button is clicked
            if event.type == pygame.MOUSEBUTTONDOWN:
                if start_button.collidepoint(pygame.mouse.get_pos()):
                    main_arcade()  # Open the main arcade screen with games

        pygame.display.flip()

# Start the arcade
run_arcade()

pygame.quit()
